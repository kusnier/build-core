<?xml version="1.0" encoding="UTF-8"?>
<project name="xp-framework-release" basedir="." xmlns:ivy="antlib:org.apache.ivy.ant">
  
  <target name="xp.install" extensionOf="install" depends="ivy-info">
    <echo>===> Installing ${ivy.organisation}#${ivy.module} @ local</echo>

    <ivy:publish
     artifactspattern="${build.target}/[artifact]-[revision].[ext]"
     revision="${ivy.new.revision}"
     resolver="local"
     overwrite="true"
     publishivy="true"
    />
  </target>

  <target name="xp.publish" extensionOf="publish" depends="ivy-info">
    <echo>===> Deploying ${ivy.organisation}#${ivy.module} @ shared</echo>

    <ivy:publish
     artifactspattern="${build.target}/[artifact]-[revision].[ext]"
     revision="${ivy.new.revision}"
     resolver="shared"
     publishivy="true"
    />
  </target>

  <target name="xp.publish.public" depends="ivy-info">
    <echo>===> Deploying ${ivy.organisation}#${ivy.module} @ public-authenticated</echo>
    <ivy:publish
     artifactspattern="${build.target}/[artifact]-[revision].[ext]"
     resolver="public-authenticated"
     publishivy="true"
    />
  </target>
</project>
